<div id="agitator-gatekeeper" style="position:fixed; top:0; left:0; width:100%; height:100%; background:#000; z-index:99999; display:flex; align-items:center; justify-content:center; text-align:center; font-family:'Courier New', monospace; color:#fff;">
    
    <div style="position:absolute; top:0; left:0; width:100%; height:100%; background-image: linear-gradient(rgba(0, 255, 65, 0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 255, 65, 0.05) 1px, transparent 1px); background-size:50px 50px; pointer-events:none;"></div>

    <div style="position:relative; z-index:10; max-width:500px; width:90%;">
        <div style="border-bottom:1px solid #333; padding-bottom:20px; margin-bottom:30px; font-size:12px; color:#666; display:flex; justify-content:space-between;">
            <span>PROTOCOL: AGITATOR_INDEX</span>
            <span style="color:#00FF41;">● SYSTEM LOCKED</span>
        </div>

        <h1 style="font-size:32px; line-height:1.2; margin-bottom:10px; color:#fff; text-transform:uppercase;">The Flight Simulator<br>For Enterprise Sales.</h1>
        <p style="color:#888; font-size:16px; margin-bottom:40px;">Live Voice AI simulation testing negotiation reflexes.</p>

        <div id="gate-home">
            <button onclick="gateView('request')" style="background:#00FF41; color:#000; border:1px solid #00FF41; padding:20px; font-family:inherit; font-size:16px; font-weight:bold; cursor:pointer; width:100%; margin-bottom:15px; text-transform:uppercase;">REQUEST ACCESS</button>
            <button onclick="gateView('code')" style="background:transparent; color:#00FF41; border:1px solid #00FF41; padding:20px; font-family:inherit; font-size:16px; font-weight:bold; cursor:pointer; width:100%; text-transform:uppercase;">I HAVE A CODE</button>
        </div>

        <div id="gate-request" style="display:none;">
            <input type="email" id="gate-email" placeholder="ENTER WORK EMAIL" style="background:#000; border:1px solid #333; padding:20px; color:#fff; width:100%; font-family:inherit; font-size:16px; text-align:center; box-sizing:border-box; outline:none; margin-bottom:15px;">
            <button onclick="gateSubmitRequest()" style="background:#00FF41; color:#000; border:none; padding:20px; width:100%; font-family:inherit; font-size:16px; font-weight:bold; cursor:pointer;">JOIN WAITLIST</button>
            <div onclick="gateView('home')" style="margin-top:20px; color:#666; font-size:12px; cursor:pointer; text-decoration:underline;">[ ← BACK ]</div>
        </div>

        <div id="gate-code" style="display:none;">
            <input type="text" id="gate-input" placeholder="ENTER CODE" style="background:#000; border:1px solid #333; padding:20px; color:#fff; width:100%; font-family:inherit; font-size:16px; text-align:center; box-sizing:border-box; outline:none; text-transform:uppercase; letter-spacing:2px; margin-bottom:15px;">
            <button onclick="gateCheck()" style="background:#fff; color:#000; border:none; padding:20px; width:100%; font-family:inherit; font-size:16px; font-weight:bold; cursor:pointer;">VERIFY CODE</button>
            <div id="gate-error" style="color:#FF3333; margin-top:15px; font-size:14px; font-weight:bold; display:none;">❌ ACCESS DENIED</div>
            <div onclick="gateView('home')" style="margin-top:20px; color:#666; font-size:12px; cursor:pointer; text-decoration:underline;">[ ← BACK ]</div>
        </div>

        <div style="margin-top:40px; font-size:10px; color:#444;">RESTRICTED ACCESS // V3.2</div>
    </div>
</div>

<script>
    // --- GATEKEEPER LOGIC ---
    const VALID_CODES = ['AGITATOR', 'MONEYBALL', 'VIP2026']; // Add your codes here

    function gateView(view) {
        document.getElementById('gate-home').style.display = 'none';
        document.getElementById('gate-request').style.display = 'none';
        document.getElementById('gate-code').style.display = 'none';
        document.getElementById('gate-error').style.display = 'none';
        
        if(view === 'home') document.getElementById('gate-home').style.display = 'block';
        if(view === 'request') document.getElementById('gate-request').style.display = 'block';
        if(view === 'code') {
            document.getElementById('gate-code').style.display = 'block';
            document.getElementById('gate-input').focus();
        }
    }

    function gateSubmitRequest() {
        const btn = document.querySelector('#gate-request button');
        const email = document.getElementById('gate-email').value;
        if(!email) return;
        
        btn.innerText = "ADDING TO QUEUE...";
        setTimeout(() => {
            alert("You have been added to the priority list.");
            window.location.reload(); // Reset state
        }, 1000);
    }

    function gateCheck() {
        const input = document.getElementById('gate-input');
        const code = input.value.trim().toUpperCase();
        
        if(VALID_CODES.includes(code)) {
            // UNLOCK: FADE OUT THE GATEKEEPER
            const gate = document.getElementById('agitator-gatekeeper');
            gate.style.transition = "opacity 0.5s ease";
            gate.style.opacity = "0";
            setTimeout(() => {
                gate.style.display = "none"; // REMOVE GATE
            }, 500);
        } else {
            // ERROR
            document.getElementById('gate-error').style.display = 'block';
            input.style.borderColor = '#FF3333';
            setTimeout(() => { input.style.borderColor = '#333'; }, 2000);
        }
    }
</script>
